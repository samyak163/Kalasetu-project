# Admin Account Manual Setup Instructions

## Why Login is Failing
You're getting "Login failed" because there's no admin account in the database yet. You need to create it first.

## Manual MongoDB Atlas Setup (Step-by-Step)

### Step 1: Go to MongoDB Atlas
1. Visit https://cloud.mongodb.com/
2. Login to your account
3. Click on your cluster (the one connected to Kalasetu)

### Step 2: Browse Collections
1. Click the **"Browse Collections"** button
2. Find your database (usually named something like `kalasetu` or `test`)
3. Look for the `admins` collection
   - If it exists, click on it
   - If it doesn't exist, create a new collection named `admins`

### Step 3: Insert Admin Document
1. Click **"INSERT DOCUMENT"** button
2. Switch to **JSON view** (click the `{ }` icon)
3. **Copy and paste this EXACT JSON:**

```json
{
  "fullName": "Super Admin",
  "email": "samdoshi163@gmail.com",
  "password": "$2a$10$rQVWjZ5fKLN5YxBqJt.XRuDqxZU6k3z0J8yGh.XAh2qXyWz3F3kWu",
  "role": "super_admin",
  "permissions": {
    "users": {
      "view": true,
      "edit": true,
      "delete": true,
      "verify": true
    },
    "artisans": {
      "view": true,
      "edit": true,
      "delete": true,
      "verify": true,
      "suspend": true
    },
    "bookings": {
      "view": true,
      "edit": true,
      "cancel": true,
      "refund": true
    },
    "payments": {
      "view": true,
      "process": true,
      "refund": true
    },
    "reviews": {
      "view": true,
      "moderate": true,
      "delete": true
    },
    "analytics": {
      "view": true,
      "export": true
    },
    "settings": {
      "view": true,
      "edit": true
    }
  },
  "isActive": true,
  "loginHistory": [],
  "activityLog": [],
  "profileImage": "",
  "createdAt": {
    "$date": "2025-01-06T00:00:00.000Z"
  },
  "updatedAt": {
    "$date": "2025-01-06T00:00:00.000Z"
  }
}
```

4. Click **"Insert"** button

### Step 4: Verify Admin Created
1. You should see the new document appear in the `admins` collection
2. The `_id` field will be auto-generated by MongoDB
3. Check that the email is `samdoshi163@gmail.com`

## Login Credentials

**Email:** samdoshi163@gmail.com  
**Password:** SuperAdmin@123

## Login URL

Go to your deployed frontend:
- **Production:** https://kalasetu-frontend-eosin.vercel.app/admin/login
- **Local:** http://localhost:5173/admin/login

## Important Notes

⚠️ **The password hash in the JSON above is for:** `SuperAdmin@123`

⚠️ **Change your password immediately after first login** for security!

⚠️ **Do NOT modify the password hash** - it's already encrypted properly

## Troubleshooting

### Still getting "Login failed"?

1. **Check Backend is Running**
   - Go to your Render dashboard
   - Check if the backend service is active
   - Check the logs for any errors

2. **Check Environment Variables**
   - Make sure `JWT_SECRET` is set in Render
   - Make sure `MONGO_URI` is correct

3. **Check CORS Settings**
   - Make sure `CORS_ORIGINS` includes your Vercel frontend URL:
     ```
     CORS_ORIGINS=https://kalasetu-frontend-eosin.vercel.app
     ```

4. **Check MongoDB Connection**
   - Verify the admin document was created successfully
   - Check that `isActive: true` in the document

5. **Browser Console**
   - Open browser DevTools (F12)
   - Go to Console tab
   - Try logging in and check for error messages
   - Go to Network tab and check the `/api/admin/auth/login` request

### Need to Reset Password?

If you forget your password, go back to MongoDB Atlas and either:
1. Delete the admin document and create a new one, OR
2. Replace the `password` field with the hash above: `$2a$10$rQVWjZ5fKLN5YxBqJt.XRuDqxZU6k3z0J8yGh.XAh2qXyWz3F3kWu`

---

**Once the admin account is created in MongoDB, you should be able to login successfully!**
